<ion-view view-title="Conversations">

  <ion-nav-buttons side="right">
    <a class="button button-clear button-positive ion-plus-round" href="#/tab/chats/new">
      Nouvelle conversation
    </a>
  </ion-nav-buttons>

  <ion-content>
    <ion-list>
      <div class="item item-divider" ng-show="vm.privateChats.length">
        Conversations priv√©es
      </div>

      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="chat in vm.privateChats track by chat.$id | orderBy:['lastMessageDate', 'creationDate']" type="item-text-wrap" href="#/tab/chats/{{chat.$id}}">
        <h2>{{chat.name}} <small class="small">({{chat.description}})</small></h2>
        <p>{{chat.lastMessage || 'Aucun message'}}</p>
        <i class="icon ion-chevron-right icon-accessory"></i>

        <ion-option-button class="button-assertive" ng-click="vm.remove(chat.$id)">
          Supprimer
        </ion-option-button>
      </ion-item>

      <div class="item item-divider" ng-show="vm.publicChats.length">
        Conversations publiques
      </div>

      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="chat in vm.publicChats track by chat.$id | orderBy:['lastMessageDate', 'creationDate']" type="item-text-wrap" href="#/tab/chats/{{chat.$id}}">
        <h2>{{chat.name}} <small class="small">({{chat.description}})</small></h2>
        <p>{{chat.lastMessage || 'Aucun message'}}</p>
        <i class="icon ion-chevron-right icon-accessory"></i>

        <ion-option-button class="button-assertive" ng-click="vm.remove(chat.$id)">
          Supprimer
        </ion-option-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
